<%- include('../../partials/admin-head', { title: 'Панель администратора' }) %>
  <body class="dashboard">
    <div class="admin-container">
      <%- include('../../partials/admin-aside') %>
      <main class="content">
        <h1><%= title %></h1>

        <form method="POST" action="<%= formAction %>">
          <div class="form-group">
            <label>Логин покупателя</label>
            <input
              type="text"
              name="username"
              class="form-control"
              value="<%= customer ? customer.username : '' %>"
              required
            />
          </div>

          <div class="form-group">
            <label>Email</label>
            <input
              type="email"
              name="email"
              class="form-control"
              value="<%= customer ? customer.email : '' %>"
              required
            />
          </div>

          <div class="form-group">
            <label>Пол</label>
            <select name="gender" class="form-control">
              <option value="other" <%= customer && customer.gender === 'other' ? 'selected' : '' %>>Другое</option>
              <option value="male" <%= customer && customer.gender === 'male' ? 'selected' : '' %>>Мужчина</option>
              <option value="female" <%= customer && customer.gender === 'female' ? 'selected' : '' %>>Женщина</option>
            </select>
          </div>

          <div class="form-group">
            <label>Пароль</label>
            <input
              type="password"
              name="password"
              class="form-control"
              required
            />
          </div>

          <div class="form-group">
            <label>Номер телефона</label>
            <input
              type="tel"
              name="phone"
              pattern="+7[0-9]{10}"
              class="form-control"
              value="<%= customer ? customer.phone : '' %>"
            />
            <span>Формат: +79999999999</span>
          </div>

          <div class="form-group">
            <label>Адрес</label>
            <textarea name="address" class="form-control"><%= customer ? customer.address : '' %></textarea>
          </div>

          <div class="form-group">
            <label>Ссылка на изображение</label>
            <input
              type="text"
              name="image_url"
              class="form-control"
              pattern="^(.+\.(jpg|jpeg|png|gif|webp))|(\/?.+\/.+\.(jpg|jpeg|png|gif|webp))$"
              title="Введите URL или относительный путь к изображению (jpg, jpeg, png, gif или webp)"
              value="<%= customer ? customer.image_url : '' %>"
            />
          </div>

          <button type="submit" class="btn btn-primary">
            <%= isEdit ? 'Обновить' : 'Добавить' %>
          </button>

          <a href="/admin/customers" class="btn btn-secondary">Отмена</a>
        </form>
      </main>
    </div>
<%- include('../../partials/admin-footer') %>
